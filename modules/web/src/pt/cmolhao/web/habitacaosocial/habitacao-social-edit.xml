<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<window xmlns="http://schemas.haulmont.com/cuba/screen/window.xsd"
        xmlns:chart="http://schemas.haulmont.com/charts/charts.xsd"
        caption="msg://editorCaption"
        focusComponent="form"
        messagesPack="pt.cmolhao.web.habitacaosocial">
    <data>
        <instance id="habitacaoSocialDc"
                  class="pt.cmolhao.entity.HabitacaoSocial"
                  view="habitacaoSocial-view">
            <loader/>
        </instance>

        <collection id="customersDc"
                    class="pt.cmolhao.entity.BlocosHabitacaoSocial"
                    view="_local">
            <loader id="customersLoader">
                <query>
                    <![CDATA[select e from cmolhao_BlocosHabitacaoSocial e]]>
                </query>
            </loader>
        </collection>

        <collection id="UtentesDC"
                    class="pt.cmolhao.entity.Utente"
                    view="_local">
            <loader id="utentesLoader">
                <query>
                    <![CDATA[select e from cmolhao_Utente e]]>
                </query>
            </loader>
        </collection>
    </data>


    <dialogMode height="600"
                width="800"/>

    <layout expand="scrollBox" spacing="true">
        <scrollBox id="scrollBox" spacing="true">
            <form id="form" dataContainer="habitacaoSocialDc">
                <column width="300px">
                    <textField id="arrendField" property="arrend" caption="Numero de Renda:" icon="SORT_NUMERIC_ASC" maxLength="1" stylename="uppercase-field" />
                    <textField id="blField" property="bl" caption="Bloco/Lote: " icon="BUILDING_O" maxLength="1" stylename="uppercase-field" />
                    <textField id="coordField" property="coord" editable="false" icon="MAP_MARKER" stylename="label-readonly" caption="Coordenada da Habitação social:"/>
                    <lookupField
                            property="bloc"
                            id="blocField"
                            optionsContainer="customersDc"
                            inputPrompt="(Seleccione a morada do bloco de habitação social)"
                            icon="font-icon:HOME" caption="Morada do Bloco de Habitacao Social"
                            required="true" requiredMessage="Deve seleccionar pelo menos a morada dos blocos da habitação social"/>

                    <textField id="codField" property="cod" icon="font-icon:KEY" caption="Código da Habitação Social: " />
                    <textField id="codbrField" icon="font-icon:KEY" property="codbr" caption="Código do bloco da Habitação Social: " />

                    <textField id="eqsocialField" property="eqsocial" icon="SORT_NUMERIC_ASC" caption="Numero de Habitação Social: "/>
                    <textField id="t0Field" property="t0" caption="Numero de Apartamento T0:" icon="BUILDING"/>

                    <textField id="t1Field" property="t1" caption="Numero de Apartamento T1:" icon="BUILDING"/>
                    <textField id="t2Field" property="t2" caption="Numero de Apartamento T2:" icon="BUILDING"/>

                    <textField id="t3Field" property="t3" caption="Numero de Apartamento T3:" icon="BUILDING"/>
                    <textField id="t4Field" property="t4" caption="Numero do Apartamento T4:" icon="BUILDING"/>

                    <textField id="t5Field" property="t5" caption="Numero de Apartamento T5:" icon="BUILDING"/>
                    <textField id="vendField" property="vend" icon="SORT_NUMERIC_ASC" caption="Numero do Vendedor:"/>

                    <textField id="sitoLugarField" property="sitoLugar" caption="Sitio do Lugar: " icon="MAP_PIN" />
                    <textField id="ruaField" property="rua" caption="Rua/Morada: " icon="font-icon:ROAD" />
                    <textField id="numpoliciaField" property="numpolicia" caption="Numero Policia: " icon="USER_SECRET" maxLength="9" />

                    <textField id="freguesiaField" property="freguesia" caption="Freguesia: " icon="INSTITUTION" />


                    <textField id="localidadeField" property="localidade" caption="Localidade: " icon="MAP" />


                    <textField id="codPostalField" property="codPostal"
                               caption="Código Postal: "
                               icon="MAP_SIGNS"
                                maxLength="8"/>

                    <textArea rows="3" cols="8" id="obsgeraisField" property="obsgerais" caption="Observações Gerais: " icon="FILE_TEXT_O" />
                    <textArea rows="3" cols="8" id="obsconfField" property="obsconf" caption="Observações Gerais: " icon="FILE_TEXT_O" />

                    <checkBox id="fichaCompletaField" property="fichaCompleta" caption="Ficha Completa: " icon="FILES_O" />

                    <lookupField
                            property="idUtente"
                            id="utenteField"
                            optionsContainer="UtentesDC"
                            icon="font-icon:ID_CARD" caption="Nome e Identificação do Utente"
                            inputPrompt="(Seleccione o nome e a identificação do utente)"/>

                    <textField id="valorPatrimonioField" property="valorPatrimonio" caption="Valor do Património: " icon="MONEY"  />
                    <textField id="rendimentoAnualField" property="rendimentoAnual" icon="MONEY" caption="Rendimento Anual: " />

                    <!--<chart:mapViewer id="map"
                                     height="600px"
                                     width="1200px"/>-->
                </column>
            </form>
        </scrollBox>
        <hbox id="editActions" spacing="true">
            <button action="windowCommitAndClose" caption="Salvar" icon="SAVE" stylename="friendly"/>
            <button caption="Fechar" action="windowClose" icon="CLOSE"/>
        </hbox>


    </layout>
</window>
